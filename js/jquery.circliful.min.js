"use strict";!function(e){e.fn.circliful=function(t,r){var o=e.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:10,backgroundBorderWidth:10,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,percentageX:100,percentageY:100,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",textY:null,textX:null,multiPercentage:0,percentages:null,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1,animateInView:!1,decimals:0,alwaysDecimals:!1,title:"Circle Chart",description:""},t);return this.each(function(){function b(){var e=window.setInterval(function(){p>=P?(window.clearInterval(e),m=1,"function"==typeof r&&r.call(this)):(p+=C,k+=w),p/3.6>=l&&1==m&&(p=3.6*l),k>o.target&&1==m&&(k=o.target),null==o.replacePercentageByText&&(v=parseFloat(o.halfCircle?100*p/360*2:100*p/360),v=v.toFixed(o.decimals),!o.alwaysDecimals&&(0==l||l>1&&1!=m)&&(v=parseInt(v))),u.attr("stroke-dasharray",p+", 20000"),1==o.showPercent?y.find(".number").text(v):(y.find(".number").text(k),y.find(".percent").text(""))}.bind(u),h)}function B(){var t=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html",r=e(t).scrollTop(),o=r+e(window).height(),l=Math.round(u.offset().top),n=l+u.height();return o>l&&n>r}function S(){u.hasClass("start")||B(u)&&(u.addClass("start"),setTimeout(b,250))}function T(t,r){e.each(t,function(e){e.toLowerCase()in r&&(t[e]=r[e.toLowerCase()])})}var t=e(this);T(o,t.data());var s,x,f,l=o.percent,n=83,a=100,i=o.percentageY,c=o.percentageX,d=o.backgroundBorderWidth;if(o.halfCircle?"left"==o.iconPosition?(a=80,n=100,c=117,i=100):o.halfCircle&&(n=80,i=100):"bottom"==o.iconPosition?(n=124,i=95):"left"==o.iconPosition?(a=80,n=110,c=117):"middle"==o.iconPosition?1==o.multiPercentage?"object"==typeof o.percentages?d=30:(n=110,x='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',x+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',c=228,i=47):(n=110,x='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',x+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',c=170,i=35):"right"==o.iconPosition&&(a=120,n=110,c=80),o.targetPercent>0&&(i=95,x='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',x+='<text text-anchor="middle" x="'+c+'" y="120" style="font-size: '+o.targetTextSize+'px;" fill="'+o.targetColor+'">'+o.targetPercent+(o.noPercentageSign&&null==o.replacePercentageByText?"":"%")+"</text>",x+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',x+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.targetColor+'" stroke-width="3" stroke-dasharray="'+3.6*o.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!=o.text&&(o.halfCircle?o.textBelow?x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"120")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"115")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"228")+'" y="'+(null!=o.textY?o.textY:"65")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>"):o.textBelow?x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"190")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"115")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(x+='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"228")+'" y="'+(null!=o.textY?o.textY:"65")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>")),"none"!=o.icon&&(f='<text text-anchor="middle" x="'+a+'" y="'+n+'" class="icon" style="font-size: '+o.iconSize+'px" fill="'+o.iconColor+'">&#x'+o.icon+"</text>"),o.halfCircle){var g='transform="rotate(-180,100,100)"';t.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+x+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+d+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" '+g+' /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+f+'<text class="timer" text-anchor="middle" x="'+c+'" y="'+i+'" style="font-size: '+o.percentageTextSize+"px; "+s+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'"><tspan class="number">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+'</tspan><tspan class="percent">'+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</tspan></text>"))}else t.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+x+'<circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+d+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" />'+f+'<text class="timer" text-anchor="middle" x="'+c+'" y="'+i+'" style="font-size: '+o.percentageTextSize+"px; "+s+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'"><tspan class="number">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+'</tspan><tspan class="percent">'+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</tspan></text>"));var u=t.find(".circle"),y=t.find(".timer"),h=30,p=0,C=o.animationStep,m=0,k=0,w=0,v=l,P=3.6*l;o.halfCircle&&(P=3.6*l/2),null!=o.replacePercentageByText&&(v=o.replacePercentageByText),o.start>0&&o.target>0&&(l=o.start/(o.target/100),w=o.target/100),1==o.animation?o.animateInView?e(window).scroll(function(){S()}):b():(u.attr("stroke-dasharray",P+", 20000"),1==o.showPercent?y.find(".number").text(v):(y.find(".number").text(o.target),y.find(".percent").text("")))})}}(jQuery);